<div>
  <h2>Tasks</h2>

  <!-- Error message display -->
  <div *ngIf="errorMessage" class="error-message">
    <strong>Error:</strong> {{ errorMessage }}
    <button (click)="clearError()">&times;</button>
  </div>

  <ul>
    <li *ngFor="let task of tasks">
      <input type="checkbox" [checked]="task.completed" (change)="toggleTask(task)" />
      <!-- do not use inline styles for better maintainability
      <span (click)="toggleTask(task)" [class.task-completed]="task.completed"></span> -->
      <span (click)="toggleTask(task)" [style.textDecoration]="task.completed ? 'line-through' : 'none'">
        {{ task.name }}
      </span>
    </li>
  </ul>
  <input [(ngModel)]="newTaskName" 
         placeholder="New task" 
         required 
         minlength="3" 
         maxlength="10"
         #newTaskModel="ngModel" />
  <button (click)="addTask()" [disabled]="newTaskModel.invalid">Add Task</button>

  <div *ngIf="newTaskModel.invalid && (newTaskModel.dirty || newTaskModel.touched)" style="color: red;">
    <div *ngIf="newTaskModel.errors?.['required']">
      Task name is required.
    </div>
    <div *ngIf="newTaskModel.errors?.['minlength']">
      Task name must be at least 3 characters long.
    </div>
  </div>
</div>
